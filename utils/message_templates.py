"""
–®–∞–±–ª–æ–Ω—ã —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è Telegram –±–æ—Ç–∞
"""

from .html_formatter import safe_html, bold, italic, code, link


# ---------- –û—Å–Ω–æ–≤–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã ----------
def get_welcome_message(username: str = "") -> str:
    """
    –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ /start

    Args:
        username: –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

    Returns:
        –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    """
    greeting = "üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!"
    if username:
        safe_name = safe_html(username)
        greeting = f"üëã –ü—Ä–∏–≤–µ—Ç, {safe_name}!"

    return (
        f"{bold(greeting)}\n\n"
        f"–≠—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –±–æ—Ç —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∏.\n\n"
        f"{italic('‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:')}\n"
        f"‚Ä¢ –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –º–µ–Ω—é\n"
        f"‚Ä¢ –ü–æ–∏—Å–∫ —Ç–µ—Ä–º–∏–Ω–æ–≤ –≤ –í–∏–∫–∏–ø–µ–¥–∏–∏\n"
        f"‚Ä¢ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã\n\n"
        f"–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª –≤ –º–µ–Ω—é –Ω–∏–∂–µ."
    )


def get_main_menu_text() -> str:
    """–¢–µ–∫—Å—Ç –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é"""
    return f"{bold('üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é')}\n–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª:"


def get_help_message() -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–º–æ—â–∏"""
    help_text = (
        f"{bold('üìñ –ü–æ–º–æ—â—å')}\n\n"
        f"{italic('–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:')}\n"
        f"{code('/start')} - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º\n"
        f"{code('/menu')} - –û—Ç–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é\n"
        f"{code('/search')} - –ü–æ–∏—Å–∫ —Ç–µ—Ä–º–∏–Ω–∞ –≤ –í–∏–∫–∏–ø–µ–¥–∏–∏\n"
        f"{code('/profile')} - –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è\n"
        f"{code('/history')} - –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∏—Å–∫–æ–≤\n"
        f"{code('/stats')} - –õ–∏—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞\n"
        f"{code('/help')} - –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ\n\n"
        f"{italic('–ù–∞–≤–∏–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ –º–µ–Ω—é:')}\n"
        f"‚Ä¢ üë§ <b>–ü—Ä–æ—Ñ–∏–ª—å</b> - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞\n"
        f"‚Ä¢ üîç <b>–¢–µ—Ä–º–∏–Ω</b> - –ø–æ–∏—Å–∫ –≤ –í–∏–∫–∏–ø–µ–¥–∏–∏\n"
        f"‚Ä¢ ‚ÑπÔ∏è <b>–û –±–æ—Ç–µ</b> - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ\n"
        f"‚Ä¢ ‚öôÔ∏è <b>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</b> - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞\n"
        f"‚Ä¢ üìû <b>–ö–æ–Ω—Ç–∞–∫—Ç—ã</b> - –∫–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏\n"
        f"‚Ä¢ üìù <b>FAQ</b> - —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã\n\n"
        f"–î–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –≤ –º–µ–Ω—é."
    )

    return help_text


def get_search_prompt() -> str:
    """–ó–∞–ø—Ä–æ—Å –Ω–∞ –≤–≤–æ–¥ —Ç–µ—Ä–º–∏–Ω–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞"""
    return (
        f"{bold('üîç –ü–æ–∏—Å–∫ —Ç–µ—Ä–º–∏–Ω–∞ –≤ –í–∏–∫–∏–ø–µ–¥–∏–∏')}\n\n"
        f"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω –¥–ª—è –ø–æ–∏—Å–∫–∞:"
    )


def get_search_started(term: str) -> str:
    """
    –°–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–∞—á–∞–ª–µ –ø–æ–∏—Å–∫–∞

    Args:
        term: –¢–µ—Ä–º–∏–Ω –¥–ª—è –ø–æ–∏—Å–∫–∞
    """
    safe_term = safe_html(term)
    return (
        f"{bold('üîç –ò—â—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ —Ç–µ—Ä–º–∏–Ω—É:')} {code(safe_term)}\n\n"
        f"{italic('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ...')}"
    )


def get_search_result(title: str, summary: str) -> str:
    """
    –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ —Ç–µ—Ä–º–∏–Ω–∞

    Args:
        title: –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç—å–∏
        summary: –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
    """
    safe_title = safe_html(title)
    safe_summary = safe_html(summary[:1500])  # –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–ª–∏–Ω—É

    return f"{bold(f'üìö {safe_title}')}\n\n{safe_summary}"


def get_search_not_found(term: str) -> str:
    """
    –°–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ —Ç–µ—Ä–º–∏–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω

    Args:
        term: –¢–µ—Ä–º–∏–Ω, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –Ω–∞–π–¥–µ–Ω
    """
    safe_term = safe_html(term)
    return (
        f"‚ùå {bold(f'–ü–æ –∑–∞–ø—Ä–æ—Å—É {code(safe_term)} –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.')}\n\n"
        f"–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–≤–µ—Å—Ç–∏ –¥—Ä—É–≥–æ–π —Ç–µ—Ä–º–∏–Ω."
    )


def get_search_error(term: str, error: str) -> str:
    """
    –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –ø–æ–∏—Å–∫–∞

    Args:
        term: –¢–µ—Ä–º–∏–Ω –¥–ª—è –ø–æ–∏—Å–∫–∞
        error: –¢–µ–∫—Å—Ç –æ—à–∏–±–∫–∏
    """
    safe_term = safe_html(term)
    safe_error = safe_html(str(error)[:100])
    return (
        f"‚ö†Ô∏è {bold('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ:')}\n"
        f"{code(safe_error)}\n\n"
        f"–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ç–µ—Ä–º–∏–Ω."
    )


def get_disambiguation_message(term: str, options: list) -> str:
    """
    –°–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç–∏ –ø–æ–∏—Å–∫–∞

    Args:
        term: –ò—Å—Ö–æ–¥–Ω—ã–π —Ç–µ—Ä–º–∏–Ω
        options: –°–ø–∏—Å–æ–∫ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
    """
    safe_term = safe_html(term)
    options_text = "\n".join([f"‚Ä¢ {safe_html(opt)}" for opt in options[:5]])

    return (
        f"{bold(f'üîç –ù–∞–π–¥–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–ª—è {code(safe_term)}:')}\n\n"
        f"{options_text}\n\n"
        f"{italic('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É—Ç–æ—á–Ω–∏—Ç–µ –≤–∞—à –∑–∞–ø—Ä–æ—Å.')}"
    )


def get_about_message() -> str:
    """–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ"""
    return (
        f"{bold('ü§ñ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ')}\n\n"
        f"{bold('–í–µ—Ä—Å–∏—è:')} 2.0\n"
        f"{bold('–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:')} aiogram 3.x\n\n"
        f"{italic('‚ú® –§—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞:')}\n"
        f"‚Ä¢ –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –º–µ–Ω—é\n"
        f"‚Ä¢ –ü–æ–∏—Å–∫ —Ç–µ—Ä–º–∏–Ω–æ–≤ –≤ –í–∏–∫–∏–ø–µ–¥–∏–∏\n"
        f"‚Ä¢ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ñ–∏–ª–µ\n"
        f"‚Ä¢ –ù–∞—Å—Ç—Ä–æ–π–∫–∏\n\n"
        f"{italic('‚ÑπÔ∏è –ü–æ–∏—Å–∫ —Ç–µ—Ä–º–∏–Ω–æ–≤:')}\n"
        f"–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É \"üîç –¢–µ—Ä–º–∏–Ω\" –∏ –≤–≤–µ–¥–∏—Ç–µ –ª—é–±–æ–π —Ç–µ—Ä–º–∏–Ω –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è "
        f"–∫—Ä–∞—Ç–∫–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è –∏–∑ –í–∏–∫–∏–ø–µ–¥–∏–∏."
    )


def get_contacts_message() -> str:
    """–ö–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏"""
    return (
        f"{bold('üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã')}\n\n"
        f"{bold('–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞:')} @support_username\n"
        f"{bold('–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:')} @developer_username\n\n"
        f"üìß {bold('Email:')} support@example.com\n"
        f"üåê {bold('–°–∞–π—Ç:')} https://example.com\n\n"
        f"{italic('–†–∞–±–æ—á–∏–µ —á–∞—Å—ã:')}\n"
        f"–ü–Ω-–ü—Ç: 9:00-18:00\n"
        f"–°–±-–í—Å: –≤—ã—Ö–æ–¥–Ω–æ–π"
    )


def get_faq_message() -> str:
    """FAQ - —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã"""
    return (
        f"{bold('üìù –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã')}\n\n"
        f"{bold('Q: –ö–∞–∫ –∏—Å–∫–∞—Ç—å —Ç–µ—Ä–º–∏–Ω—ã –≤ –í–∏–∫–∏–ø–µ–¥–∏–∏?')}\n"
        f"A: –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É \"üîç –¢–µ—Ä–º–∏–Ω\", –≤–≤–µ–¥–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω –∏ –±–æ—Ç –Ω–∞–π–¥–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.\n\n"
        f"{bold('Q: –ü–æ—á–µ–º—É –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ç–µ—Ä–º–∏–Ω?')}\n"
        f"A: –í–æ–∑–º–æ–∂–Ω–æ, —Ç–µ—Ä–º–∏–Ω –Ω–∞–ø–∏—Å–∞–Ω —Å –æ—à–∏–±–∫–æ–π –∏–ª–∏ –µ–≥–æ –Ω–µ—Ç –≤ –í–∏–∫–∏–ø–µ–¥–∏–∏.\n\n"
        f"{bold('Q: –ö–∞–∫ –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?')}\n"
        f"A: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É \"–ù–∞–∑–∞–¥\" –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ {code('/menu')}"
    )


def get_settings_message() -> str:
    """–¢–µ–∫—Å—Ç –¥–ª—è —Ä–∞–∑–¥–µ–ª–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫"""
    return f"{bold('‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏')}\n–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:"


def get_settings_option_message(option: str) -> str:
    """
    –¢–µ–∫—Å—Ç –¥–ª—è –æ–ø—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫

    Args:
        option: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ–ø—Ü–∏–∏
    """
    text_map = {
        'notifications': (
            f"{bold('üîî –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π')}\n\n"
            f"–í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:\n"
            f"‚Ä¢ –ü–æ–ª—É—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\n"
            f"‚Ä¢ –ß–∞—Å—Ç–æ—Ç—É –æ–ø–æ–≤–µ—â–µ–Ω–∏–π\n"
            f"‚Ä¢ –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"
        ),
        'language': (
            f"{bold('üåç –í—ã–±–æ—Ä —è–∑—ã–∫–∞')}\n\n"
            f"–î–æ—Å—Ç—É–ø–Ω—ã–µ —è–∑—ã–∫–∏:\n"
            f"‚Ä¢ –†—É—Å—Å–∫–∏–π\n"
            f"‚Ä¢ –ê–Ω–≥–ª–∏–π—Å–∫–∏–π\n"
            f"‚Ä¢ –ò—Å–ø–∞–Ω—Å–∫–∏–π\n"
            f"‚Ä¢ –ù–µ–º–µ—Ü–∫–∏–π"
        ),
        'theme': (
            f"{bold('üé® –í—ã–±–æ—Ä —Ç–µ–º—ã')}\n\n"
            f"–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–µ–º—ã:\n"
            f"‚Ä¢ –°–≤–µ—Ç–ª–∞—è\n"
            f"‚Ä¢ –¢–µ–º–Ω–∞—è\n"
            f"‚Ä¢ –ê–≤—Ç–æ"
        )
    }
    return text_map.get(option, f"{bold('–ù–∞—Å—Ç—Ä–æ–π–∫–∞')}\n\n–û–ø—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.")


def get_cancel_search_message() -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—Ç–º–µ–Ω–µ –ø–æ–∏—Å–∫–∞"""
    return f"{bold('üîç –ü–æ–∏—Å–∫ –æ—Ç–º–µ–Ω–µ–Ω.')}\n–í–æ–∑–≤—Ä–∞—â–∞—é –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é."


def get_empty_term_message() -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –ø—É—Å—Ç–æ–º –≤–≤–æ–¥–µ —Ç–µ—Ä–º–∏–Ω–∞"""
    return "‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω –¥–ª—è –ø–æ–∏—Å–∫–∞."